<h2 class="component">All Comments</h2>

<p-table [value]="comments()">
  <ng-template pTemplate="header">
    <tr>
      <th scope="col"></th>
      <th scope="col" aria-label="Username">Username</th>
      <th scope="col" aria-label="Text">Text</th>
      <th scope="col" aria-label="EventID">Event ID</th>
      <th scope="col" aria-label="Date">Date</th>
      <th scope="col" aria-label="Modified">Modified</th>
      <th scope="col" aria-label="Edit"></th>
      <th scope="col" aria-label="Delete"></th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-comment>
    <tr>
      <td>
        <a [routerLink]="">
          <img
            [src]="UrlUtilService.getMediaUrl(comment.pictureURI || environment.userDummyProfilePicRelativeUrl)"
            [alt]="comment.username + '\'s avatar'"
            class="user-avatar"
          />
        </a>
      </td>

      <td>{{ comment.username }}</td>
      <td>"{{ comment.text }}"</td>
      <td>{{ comment.eventId }}</td>
      <td>{{ comment.creationDate | date:'yyyy-MM-dd hh:mm a'}}</td>
      <td>{{ comment.modificationDate | date:'yyyy-MM-dd hh:mm a'}}</td>

      <td>
        <i class="pi pi-user-edit clickable" title="Edit" (click)="onEdit(comment)" aria-label="Edit comment"></i>
      </td>
      <td>
        <i class="pi pi-trash clickable" title="Delete" (click)="onDelete(comment)" aria-label="Delete comment"></i>
      </td>
    </tr>
  </ng-template>
</p-table>
