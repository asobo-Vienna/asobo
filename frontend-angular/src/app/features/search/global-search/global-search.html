<div class="search-bar d-flex align-items-center me-auto">
  <div class="search-div d-flex w-100 position-relative">
    <p-autoComplete
      [formControl]="searchControl"
      [suggestions]="searchResults"
      (completeMethod)="search($event)"
      field="name"
      optionLabel="name"
      [dropdown]="false"
      [minQueryLength]="2"
      [showEmptyMessage]="true"
      emptyMessage="No results found"
      [forceSelection]="false"
      (onSelect)="onSelect($event)"
      placeholder="Search for events"
      class="w-100"
      [inputStyleClass]="'form-control search-input'"
    >
      <ng-template let-item pTemplate="item">
        <div class="flex align-items-center gap-2 global-search-item-wrapper">
          <i [class]="item.type === 'EVENT' ? 'pi pi-calendar' : 'pi pi-user'"></i>
          <div class="global-search-item-container mt-1 mb-2">
            <img class="search-result-img" [src]="item.pictureURI"
                 alt="{{ item.type === 'EVENT' ? 'Event cover picture' : 'User profile picture' }}"/>
            <div class="item-text-content">
              <div class="font-bold">{{ item.name }}</div>
              <div class="text-sm text-gray-500">{{ item.type }}</div>
            </div>
          </div>
        </div>
      </ng-template>
    </p-autoComplete>

    <button class="btn-search btn" type="button" (click)="triggerSearch()">
      <img class="btn-search-img" src="images/icons/magnifying_glass_purple.png" alt="Search Button">
    </button>
  </div>
</div>
